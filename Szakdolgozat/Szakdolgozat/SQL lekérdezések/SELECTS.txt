//Pályázat lekérdezése - szummázott tervezett össz költséggel - rossz inner join

SELECT Azonosito, Palyazat_tipus, Palyazat_neve, Finanszirozas_tipus, SUM(koltseg_terv.Tervezett_penzosszeg) AS Tervezett_összeg,
Elnyert_osszeg, Penznem, Felhasznalasi_ido_kezd, Felhasznalasi_ido_vege, Tudomanyterulet, vezetok.Nev AS Pénzügyi_vezető, tenyfelhasznalas.id AS Tényfelhasználás_Azonosító
FROM koltseg_terv INNER JOIN palyazat ON koltseg_terv.Palyazat_Azonosito = palyazat.Azonosito INNER JOIN tenyfelhasznalas
ON palyazat.Azonosito = tenyfelhasznalas.Palyazat_Azonosito INNER JOIN posztok ON posztok.Palyazat_Azonosito = palyazat.Azonosito
INNER JOIN vezetok ON posztok.Vezeto_id = vezetok.id INNER JOIN koltseg_tipusok ON koltseg_tipusok.id = koltseg_terv.KoltTip_id
WHERE Azonosito = "LNPTEST0312"

//Tényfelhasználás lekérdezése 

SELECT tenyfelhasznalas.id, tenyfelhasznalas.Palyazat_Azonosito, koltseg_tipusok.Koltseg_tipus, tenyfelhasznalas.Fizetett_osszeg, tenyfelhasznalas.Fizetes_datum
FROM tenyfelhasznalas INNER JOIN koltseg_tipusok ON tenyfelhasznalas.KoltTip_id = koltseg_tipusok.id INNER JOIN palyazat ON palyazat.Azonosito = tenyfelhasznalas.Palyazat_Azonosito
WHERE palyazat.Azonosito = "LNPTEST0312"

SELECT Azonosito, Palyazat_tipus, Palyazat_neve, Finanszirozas_tipus, SUM(koltseg_terv.Tervezett_penzosszeg) AS Tervezett_összeg,
Elnyert_osszeg, Penznem, Felhasznalasi_ido_kezd, Felhasznalasi_ido_vege, Tudomanyterulet, vezetok.Nev AS Pénzügyi_vezető
FROM koltseg_tipusok, koltseg_terv, palyazat, posztok, vezetok
WHERE koltseg_tipusok.id = koltseg_terv.KoltTip_id
AND koltseg_terv.Palyazat_Azonosito = palyazat.Azonosito
AND palyazat.Azonosito = posztok.Palyazat_Azonosito
AND posztok.Vezeto_id = vezetok.id AND Azonosito = "LNPTEST0312"


SELECT tenyfelhasznalas.id, tenyfelhasznalas.Palyazat_Azonosito, koltseg_tipusok.Koltseg_tipus, tenyfelhasznalas.Fizetett_osszeg, tenyfelhasznalas.Fizetes_datum
FROM tenyfelhasznalas INNER JOIN palyazat ON tenyfelhasznalas.Palyazat_Azonosito = palyazat.Azonosito INNER JOIN koltseg_tipusok ON tenyfelhasznalas.KoltTip_id = koltseg_tipusok.id WHERE tenyfelhasznalas.Palyazat_Azonosito = "LNPTEST0312"

//A tényfelhasználás tábla elrontja a teljes lekérdezést (összegek lekérdezését stb.)

SELECT * FROM palyazat inner join posztok on palyazat.Azonosito = posztok.Palyazat_Azonosito inner join vezetok on posztok.Vezeto_id = vezetok.id WHERE posztok.poszt = "Szakmai vezető" GROUP BY palyazat.Azonosito

SELECT palyazat.Azonosito, (SELECT vezetok.Nev
FROM palyazat inner join posztok on palyazat.Azonosito = posztok.Palyazat_Azonosito INNER JOIN vezetok ON posztok.Vezeto_id = vezetok.id WHERE posztok.Poszt = 'Szakmai vezető' GROUP BY palyazat.Azonosito) AS "Szakmai vezető",
(SELECT vezetok.Nev
FROM palyazat inner join posztok on palyazat.Azonosito = posztok.Palyazat_Azonosito INNER JOIN vezetok ON posztok.Vezeto_id = vezetok.id WHERE posztok.Poszt = 'Pénzügyi vezető' GROUP BY palyazat.Azonosito) AS "Pénzügyi vezető" FROM palyazat INNER JOIN posztok ON palyazat.Azonosito = posztok.Palyazat_Azonosito inner join vezetok on posztok.Vezeto_id = vezetok.id GROUP BY palyazat.Azonosito